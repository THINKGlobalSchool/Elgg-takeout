<VirtualHost *:80>
        RewriteEngine on
        ReWriteCond %{SERVER_PORT} !^443$
        RewriteRule ^/(.*) https://%{HTTP_HOST}/$1 [NC,R,L]
</VirtualHost>

<IfModule mod_ssl.c>
<VirtualHost *:443>
        SSLEngine on
        ServerAdmin webmaster@localhost
        ServerName 192.168.50.50

        DocumentRoot /home/vagrant/elgg/elgg_root
        <Directory />
                Options FollowSymLinks
                AllowOverride All
                Require all denied
        </Directory>
        <Directory /home/vagrant/elgg/elgg_root>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride All
                Require all granted
        </Directory>

        ErrorLog ${APACHE_LOG_DIR}/error.log

        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel warn

        CustomLog ${APACHE_LOG_DIR}/access.log combined

        SSLCertificateFile /etc/apache2/ssl/dev.crt
        SSLCertificateKeyFile /etc/apache2/ssl/dev.key
        #SSLCertificateChainFile /etc/apache2/ssl/com/gd_bundle.crt
</VirtualHost>
</IfModule>